(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},i={app:0},a=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1915:function(t,e,n){},"1ee9":function(t,e,n){},"285e":function(t,e,n){},"3e16":function(t,e,n){},5341:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"Home",class:t.darkmodestring,attrs:{id:"Home",pattern:t.patterns,variant:t.backgroundcolor}},[n("div",{staticClass:"settings-box"},[n("b-icon",{staticClass:"cog",attrs:{id:"cog",name:"cog",icon:"gear"}}),n("label",{staticStyle:{position:"absolute"},attrs:{for:"cog"}},[t._v("Paramètres")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.darkmode,expression:"darkmode"}],staticClass:"checkbox",attrs:{type:"checkbox",id:"checkbox"},domProps:{checked:Array.isArray(t.darkmode)?t._i(t.darkmode,null)>-1:t.darkmode},on:{change:function(e){var n=t.darkmode,s=e.target,i=!!s.checked;if(Array.isArray(n)){var a=null,o=t._i(n,a);s.checked?o<0&&(t.darkmode=n.concat([a])):o>-1&&(t.darkmode=n.slice(0,o).concat(n.slice(o+1)))}else t.darkmode=i}}}),n("label",{staticClass:"label",attrs:{for:"checkbox"}},[n("b-icon",{staticStyle:{color:"#f1c40f"},attrs:{icon:"moon"}}),n("b-icon",{staticStyle:{color:"#f39c12"},attrs:{icon:"sun"}}),n("div",{staticClass:"ball"})],1)],1),n("Settings",{staticClass:"Settings hidden",attrs:{id:"Settings"}}),n("Navigation",{staticClass:"Navbar"}),n("News")],1)},a=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidenav"},[n("div",{staticClass:"sidenav-logo"},[n("img",{attrs:{src:t.image}})]),n("div",{staticClass:"sidenav-menu"},t._l(t.sectionArray,(function(e,s){return n("div",{key:"B"+s,staticClass:"section-block"},[n("button",{staticClass:"section"},[n("div",{staticClass:"section-icon"},[n("b-icon",{attrs:{icon:e.icon}})],1),n("div",{staticClass:"section-title"},[t._v(t._s(e.title))])]),t._l(t.menusArray[s],(function(e,i){return n("div",{key:"B"+i,staticClass:"menu",attrs:{id:"menu-"+s+"-"+i},on:{click:function(e){return t.ExtendSubMenu(s,i)}}},[n("div",{staticClass:"submenu-title"},[t.isEmpty(t.submenusArray[s][i])?n("div",{staticClass:"caret"},[t._v("▷")]):t._e(),t._v(" "+t._s(e.title)+" ")]),n("div",{staticClass:"menu-container",attrs:{id:"container-"+s+"-"+i}},t._l(t.submenusArray[s][i],(function(e,s){return n("a",{key:"B"+s,staticClass:"nav-link text-truncate",attrs:{href:e.link}},[n("span",{staticClass:"d-sm-inline"},[t._v(t._s(e.title))])])})),0)])}))],2)})),0),n("div",{staticClass:"Raccourcis"},[n("MenuUpdate"),n("a",{staticClass:"Files",attrs:{href:"https://cloud.ca2bm.fr/index.php/f/1183804"}},[n("b-icon",{staticClass:"doc-icon",attrs:{icon:"folder"}}),n("div",[t._v("Documents")])],1)],1)])},r=[],l=(n("caad"),n("2532"),n("f7b4")),c=n.n(l),u=n("6ca4"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"admin-settings",on:{click:function(e){t.global=!t.global}}},[n("b-icon",{staticClass:"doc-icon",attrs:{icon:"gear"}}),n("div",[t._v("Modifier le menu")])],1),n("b-modal",{ref:"modal",attrs:{id:"menumodal1",size:"xl"},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("Modification du Menu de navigation")]},proxy:!0}]),model:{value:t.global,callback:function(e){t.global=e},expression:"global"}},[n("div",{staticStyle:{display:"block",position:"relative",height:"fit-content"}},[n("div",{staticClass:"menu-table"},[n("div",{staticClass:"table-header"},[t._v("Section")]),n("div",{staticClass:"table-header"},[t._v("Menu")]),n("div",{staticClass:"table-header"},[t._v("Sous-Menu")]),n("div",{staticClass:"table-content"},[t._l(t.sectionArray,(function(e,s){return n("div",{key:s,staticClass:"table-section"},[n("div",{staticClass:"table-block",attrs:{position:s+"-0-0",type:"text"}},[t._v(" "+t._s(e.title)+" "),n("button",{staticClass:"menu-update-button",attrs:{type:"button"},on:{click:function(n){return t.Modify(e)}}},[n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"info",icon:"pencil-square"}})],1),n("button",{staticClass:"menu-del-button",attrs:{type:"button"},on:{click:function(n){return t.DeleteVerification(e)}}},[n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"danger",icon:"trash"}})],1)]),n("div",[t._l(t.menusArray[s],(function(e,i){return n("div",{key:i,staticClass:"table-menu"},[n("div",{staticClass:"table-block",attrs:{position:s+"-"+(i+1)+"-0",type:"text"}},[n("div",[t._v(t._s(e.title))]),n("button",{staticClass:"menu-update-button",attrs:{type:"button"},on:{click:function(n){return t.Modify(e)}}},[n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"info",icon:"pencil-square"}})],1),n("button",{staticClass:"menu-del-button",attrs:{type:"button"},on:{click:function(n){return t.DeleteVerification(e)}}},[n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"danger",icon:"trash"}})],1)]),n("div",{staticClass:"table-submenu"},[t._l(t.submenusArray[s][i],(function(e,a){return n("div",{key:a,staticClass:"table-submenu-content"},[n("div",{staticClass:"table-block",attrs:{position:s+"-"+(i+1)+"-"+(a+1),type:"text"}},[n("div",[t._v(t._s(e.title))]),n("button",{staticClass:"menu-update-button",attrs:{type:"button"},on:{click:function(n){return t.Modify(e)}}},[n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"info",icon:"pencil-square"}})],1),n("button",{staticClass:"menu-del-button",attrs:{type:"button"},on:{click:function(n){return t.DeleteVerification(e)}}},[n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"danger",icon:"trash"}})],1)])])})),n("button",{staticClass:"menu-add",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(e){return t.AddSubmenu(t.submenusArray[s][i],s,i)}}},[t._v("+")])],2)])})),n("button",{staticClass:"menu-add",staticStyle:{width:"calc(50% - 10px)"},on:{click:function(e){return t.AddMenu(t.menusArray[s],s)}}},[t._v("+")])],2)])})),n("button",{staticClass:"menu-add",staticStyle:{width:"calc(33% - 10px)"},on:{click:function(e){return t.AddSection(t.sectionArray)}}},[t._v("+")])],2)])])]),n("b-modal",{ref:"modal",attrs:{id:"menumodal2",size:"xl"},on:{ok:t.Save},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("Modification du Menu de navigation")]},proxy:!0}]),model:{value:t.detailed,callback:function(e){t.detailed=e},expression:"detailed"}},[n("div",{staticClass:"menu-form"},[n("div",[n("label",{attrs:{for:"title"}},[t._v("Titre")]),n("b-form-input",{attrs:{name:"title",type:"text"},model:{value:t.modifying.title,callback:function(e){t.$set(t.modifying,"title",e)},expression:"modifying.title"}})],1),1!=t.modifying.haschild?n("div",[n("label",{attrs:{for:"link"}},[t._v("Lien URL")]),n("b-form-input",{attrs:{name:"link",type:"text"},model:{value:t.modifying.link,callback:function(e){t.$set(t.modifying,"link",e)},expression:"modifying.link"}})],1):t._e(),null!=t.modifying.icon?n("div",[n("label",{attrs:{for:"icon"}},[t._v("icon (only Section)")]),n("b-form-input",{attrs:{name:"icon",type:"text"},model:{value:t.modifying.icon,callback:function(e){t.$set(t.modifying,"icon",e)},expression:"modifying.icon"}})],1):t._e(),n("label",{attrs:{for:"groups"}},[t._v("Groupes")]),n("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",name:"groups",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.tags,i=e.inputAttrs,a=e.inputHandlers,o=e.disabled,r=e.removeTag;return[s.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(s,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"info"},on:{remove:function(t){return r(e)}}},[t._v(t._s(e))])],1)})),0):t._e(),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableOptions.length,options:t.availableOptions},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("Choose a tag...")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),a))]}}]),model:{value:t.modifying.groups,callback:function(e){t.$set(t.modifying,"groups",e)},expression:"modifying.groups"}})],1)])],1)},p=[],m=n("1da1"),f=(n("96cf"),n("4de4"),n("9911"),n("ac1f"),n("1276"),n("7db0"),n("a15b"),{name:"NewsUpdate",computed:{availableOptions:function(){var t=this;return this.groupsoptions.filter((function(e){return-1===t.modifying.groups.indexOf(e)}))},sectionArray:function(){for(var t=this.menusInBDD,e=[],n=0;n<t.length;n++)for(var s=0;s<t.length;s++)t[n].position==s+"-0-0"&&e.push(t[n]);return e},menusArray:function(){for(var t=this.menusInBDD,e=[],n=[],s=0;s<this.sectionArray.length;s++){for(var i=0;i<t.length;i++)for(var a=0;a<t.length;a++)t[i].position==s+"-"+(a+1)+"-0"&&n.push(t[i]);e.push(n),n=[]}return e},submenusArray:function(){for(var t=this.menusInBDD,e=[],n=[],s=[],i=0;i<this.sectionArray.length;i++){for(var a=0;a<this.menusArray[i].length;a++){for(var o=0;o<t.length;o++)for(var r=0;r<t.length;r++)t[o].position==i+"-"+(a+1)+"-"+(r+1)&&s.push(t[o]);n.push(s),s=[]}e.push(n),n=[]}return e}},methods:{DeleteVerification:function(t){var e=this;this.$bvModal.msgBoxConfirm("Êtes-vous sûr de vouloir supprimer ce menu : ".concat(t.title),{title:"Confirmation",id:"menumodal3",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"Supprimer",cancelTitle:"Retour",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(n){n&&e.deleteMenu(t.id)})).catch((function(t){}))},Modify:function(t){this.modifying.selected=t.position,this.modifying.title=t.title,this.modifying.link=t.link,this.modifying.icon=null,this.modifying.groups=t.groups.split(";");var e=t.position.split("-");0==e[1]?(this.modifying.icon=t.icon,0==this.UpdatedMenuArray[0].length?this.modifying.haschild=!1:this.modifying.haschild=!0):0==e[2]?0==this.UpdatedSubMenuArray[e[0]][e[1]-1].length?this.modifying.haschild=!1:this.modifying.haschild=!0:this.modifying.haschild=!1,this.detailed=!this.detailed},Save:function(){var t=this,e=this.menusInBDD.find((function(e){return e.position===t.modifying.selected}));"Nouvelle Section"==e.title||"Nouveau Menu"==e.title||"Nouveau Sous-Menu"==e.title?(e.title=this.modifying.title,null!=this.modifying.link?e.link=this.modifying.link:e.link="",null!=this.modifying.icon?e.icon=this.modifying.icon:e.icon="",e.groups=this.modifying.groups.join(";"),this.createMenu(e)):(e.title=this.modifying.title,null!=this.modifying.link?e.link=this.modifying.link:e.link="",null!=this.modifying.icon?e.icon=this.modifying.icon:e.icon="",e.groups=this.modifying.groups.join(";"),this.updateMenu(e))},AddSubmenu:function(t,e,n){this.menusInBDD.push({title:"Nouveau Sous-Menu",icon:"",link:"",groups:"",position:e+"-"+(n+1)+"-"+(t.length+1)})},AddMenu:function(t,e){this.menusInBDD.push({title:"Nouveau Menu",icon:"",link:"",groups:"",position:e+"-"+(t.length+1)+"-0"})},AddSection:function(t){this.menusInBDD.push({title:"Nouvelle Section",icon:"exclamation-triangle",link:"",groups:"",position:t.length+"-0-0"})},createMenu:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,s="apps/intranetagglo/menus",n.next=4,c.a.post(Object(u["generateUrl"])(s),t,{type:"application/json"});case 4:i=n.sent,e.LastModifiedID=i.data.id,e.menusInBDD.find((function(t){return t.position===e.modifying.selected})).id=i.data.id,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),console.error(n.t0);case 12:e.$store.commit("setMenuUpdating",!0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},updateMenu:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,s="apps/intranetagglo/menus/".concat(t.id),n.next=4,c.a.post(Object(u["generateUrl"])(s),t,{type:"application/json"});case 4:i=n.sent,e.LastModifiedID=i.data.id,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error(n.t0);case 11:e.$store.commit("setMenuUpdating",!0);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()},deleteMenu:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,s="apps/intranetagglo/menus/".concat(t),n.next=4,c.a.delete(Object(u["generateUrl"])(s,{id:t}));case 4:i=n.sent,e.LastModifiedID=i.data.id,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error(n.t0);case 11:e.$store.commit("setMenuUpdating",!0);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},data:function(){return{global:!1,detailed:!1,updating:!1,menusInBDD:[],modifying:{selected:null,title:"",link:"",icon:"",groups:"",haschild:!1},groupsoptions:[],LastModifiedID:null}},mounted:function(){var t=this,e="apps/intranetagglo".concat("/menus");c.a.get(Object(u["generateUrl"])(e)).then((function(e){return t.menusInBDD=e.data})),this.$store.state.groupsoptions==[]?c.a.get(Object(u["generateOcsUrl"])("cloud/groups",2)).then((function(e){t.groupsoptions=e.data.ocs.data.groups,t.$store.commit("setGroupsOptions",e.data.ocs.data.groups)})):this.groupsoptions=this.$store.state.groupsoptions}}),g=f,h=(n("fe49"),n("2877")),v=Object(h["a"])(g,d,p,!1,null,"98485656",null),b=v.exports,y={name:"Navigation",components:{MenuUpdate:b},data:function(){return{image:"/nextcloud/apps/intranetca/src/assets/LogoCA2BM.png",user:[],lastOpenedContainer:null,menusInBDD:[]}},watch:{updating:function(t){var e=this;t&&c.a.get(Object(u["generateUrl"])("apps/intranetagglo".concat("/menusG"))).then((function(t){e.menusInBDD=t.data,e.$store.commit("setMenuUpdating",!1)}))}},computed:{updating:function(){return this.$store.state.menuupdating},isAdmin:function(){return this.$store.state.usergroups.includes("admin")},sectionArray:function(){for(var t=this.menusInBDD,e=[],n=0;n<t.length;n++)for(var s=0;s<t.length;s++)t[n].position==s+"-0-0"&&e.push(t[n]);return e},menusArray:function(){for(var t=this.menusInBDD,e=[],n=[],s=0;s<this.sectionArray.length;s++){for(var i=0;i<t.length;i++)for(var a=0;a<t.length;a++)t[i].position==s+"-"+(a+1)+"-0"&&n.push(t[i]);e.push(n),n=[]}return e},submenusArray:function(){for(var t=this.menusInBDD,e=[],n=[],s=[],i=0;i<this.sectionArray.length;i++){for(var a=0;a<this.menusArray[i].length;a++){for(var o=0;o<t.length;o++)for(var r=0;r<t.length;r++)t[o].position==i+"-"+(a+1)+"-"+(r+1)&&s.push(t[o]);n.push(s),s=[]}e.push(n),n=[]}return e}},methods:{isEmpty:function(t){return t.length>0},CategorySet:function(t){this.droptext=t,this.$store.commit("updateCategories",t)},ExtendSubMenu:function(t,e){null!=this.lastOpenedContainer&&this.lastOpenedContainer!=t+"-"+e&&(document.getElementById("menu-"+this.lastOpenedContainer).firstChild.classList.toggle("active"),document.getElementById("container-"+this.lastOpenedContainer).classList.toggle("active")),document.getElementById("menu-"+t+"-"+e).firstChild.classList.toggle("active"),document.getElementById("container-"+t+"-"+e).classList.toggle("active"),this.lastOpenedContainer==t+"-"+e?this.lastOpenedContainer=null:this.lastOpenedContainer=t+"-"+e}},mounted:function(){var t=this,e="apps/intranetagglo".concat("/menusG");c.a.get(Object(u["generateUrl"])(e)).then((function(e){return t.menusInBDD=e.data}))}},k=y,w=(n("77a8"),Object(h["a"])(k,o,r,!1,null,"5ec59f94",null)),_=w.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"settings-wrapper"},[n("h2",{staticClass:"settings-title"},[t._v("Paramètres")]),n("b-icon",{staticClass:"settings-close",attrs:{id:"close",icon:"x-circle-fill"}}),t._m(0)],1)])},x=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-block"},[n("h5",{staticClass:"settings-label"},[t._v("motifs du fond")]),n("select",{staticClass:"settings-pattern-select",attrs:{id:"pattern-select"}},[n("option",{attrs:{value:"1"}},[t._v("modele 1")]),n("option",{attrs:{value:"2"}},[t._v("modele 2")]),n("option",{attrs:{value:"3"}},[t._v("modele 3")]),n("option",{attrs:{value:"4"}},[t._v("modele 4")]),n("option",{attrs:{value:"5"}},[t._v("modele 5")]),n("option",{attrs:{value:"6"}},[t._v("modele 6")]),n("option",{attrs:{value:"7"}},[t._v("modele 7")])]),n("h5",{staticClass:"settings-label"},[t._v("couleur du fond")]),n("select",{staticClass:"settings-pattern-select",attrs:{id:"variant-select"}},[n("option",{attrs:{value:"1"}},[t._v("variante 1")]),n("option",{attrs:{value:"2"}},[t._v("variante 2")])])])}],A={name:"Settings",data:function(){return{patterns:"2",backgroundcolor:"2"}},mounted:function(){var t=document.getElementById("pattern-select"),e=document.getElementById("variant-select");function n(){document.getElementById("Settings").classList.toggle("hidden"),document.getElementById("apps-container").classList.toggle("hidden")}function s(t){var e=document.createAttribute("pattern");e.value=t.target.value,localStorage.setItem("patterns",t.target.value),document.getElementById("Home").attributes.setNamedItem(e)}function i(t){var e=document.createAttribute("variant");e.value=t.target.value,localStorage.setItem("variant",t.target.value),document.getElementById("Home").attributes.setNamedItem(e)}t.children[parseInt(this.patterns)-1].setAttribute("selected","selected"),e.children[parseInt(this.backgroundcolor)-1].setAttribute("selected","selected"),document.getElementById("close").addEventListener("click",n),document.getElementById("pattern-select").addEventListener("change",s),document.getElementById("variant-select").addEventListener("change",i)},created:function(){var t=localStorage.getItem("patterns"),e=localStorage.getItem("variant");t&&(this.patterns=t),e&&(this.backgroundcolor=e)}},S=A,M=Object(h["a"])(S,C,x,!1,null,null,null),O=M.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"news-frame"}},[n("div",{staticClass:"news-container",attrs:{id:"news-container"}},[n("div",{class:t.isAdmin?"news-header admin-view":"news-header"},[n("h2",{staticClass:"news-header-title"},[t._v("Actualités")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"searchbar",attrs:{type:"text",placeholder:"Rechercher.."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t.isAdmin?n("NewsAdd"):t._e()],1),n("div",{staticClass:"news-row",attrs:{id:"news-row"}},[n("NewsMedium",{attrs:{id:"news1",news:t.news[0]}}),n("NewsMedium",{attrs:{id:"news2",news:t.news[1]}}),n("NewsMedium",{attrs:{id:"news3",news:t.news[2]}}),n("b-icon",{staticClass:"news-return",attrs:{icon:"arrow-return-left"},on:{click:function(e){return t.closeNews()}}})],1),n("b-pagination",{staticClass:"news-pagination",attrs:{pills:"","total-rows":t.rows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),n("Apps",{staticClass:"Apps"})],1)},j=[],I=(n("841c"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news news-customcolor",style:"--news-color: "+t.newscolor},[n("div",{staticClass:"news-textbox"},[n("div",{staticClass:"news-textbox-block",attrs:{id:"news-textbox-block"+t.news.id}},[n("div",{staticClass:"news-title"},[t._v(t._s(t.news.title))]),n("div",{staticClass:"news-subtitle",class:{active:t.isActive}},[t._v(t._s(t.news.description))]),n("div",{staticClass:"news-bar"}),n("div",{staticClass:"news-description",domProps:{innerHTML:t._s(t.news.text)}})]),n("div",{staticClass:"news-img-container"},[t.news.photos?n("img",{staticClass:"news-img",attrs:{src:t.news.photos}}):t._e()]),n("div",{staticClass:"news-tagbox"},[n("span",{staticClass:"news-tag"},[t._v(t._s(t.news.category))]),n("NewsVisibility",{attrs:{visibility:!0}}),n("NewsUpdate"),n("NewsDelete")],1)])])}),D=[],N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"news-visibility-button",attrs:{type:"button"},on:{click:function(e){t.modal=!t.modal}}},[t.visibility?n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"dark",icon:"eye"}}):n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"dark",icon:"eye-slash"}})],1),n("b-modal",{ref:"modal",attrs:{size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Voulez-vous vraiment supprimer "),n("code",{staticStyle:{"font-size":"1.25rem"}},[t._v(t._s(t.newstitle))])]},proxy:!0}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("b-button",{staticClass:"mt-2 form-button-valid",attrs:{variant:"success",block:""},on:{click:t.DeleteNews}},[t._v("Valider")]),n("b-button",{staticClass:"mt-2 form-button-reset",attrs:{variant:"outline-danger",block:""},on:{click:t.hideModal}},[t._v("Retour")])],1)],1)},U=[],B={name:"NewsVisibility",methods:{showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},toggleModal:function(){this.$refs["modal"].toggle("#toggle-btn")},DeleteNews:function(){}},props:{visibility:Boolean,newstitle:String},data:function(){return{modal:!1}}},E=B,L=Object(h["a"])(E,N,U,!1,null,null,null),z=L.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"news-update-button",attrs:{type:"button"},on:{click:function(e){t.modal=!t.modal}}},[n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"info",icon:"pencil-square"}})],1),n("b-modal",{ref:"modal",attrs:{size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Voulez-vous vraiment supprimer "),n("code",{staticStyle:{"font-size":"1.25rem"}},[t._v(t._s(t.newstitle))])]},proxy:!0}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("b-button",{staticClass:"mt-2 form-button-valid",attrs:{variant:"success",block:""},on:{click:t.DeleteNews}},[t._v("Valider")]),n("b-button",{staticClass:"mt-2 form-button-reset",attrs:{variant:"outline-danger",block:""},on:{click:t.hideModal}},[t._v("Retour")])],1)],1)},V=[],P=(n("a9e3"),{name:"NewsUpdate",methods:{showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},toggleModal:function(){this.$refs["modal"].toggle("#toggle-btn")},DeleteNews:function(){}},props:{newstitle:String,DelID:Number},data:function(){return{modal:!1}}}),T=P,q=Object(h["a"])(T,R,V,!1,null,null,null),H=q.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"news-del-button",attrs:{type:"button"},on:{click:function(e){t.modal=!t.modal}}},[n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"danger",icon:"trash"}})],1),n("b-modal",{ref:"modal",attrs:{size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Voulez-vous vraiment supprimer "),n("code",{staticStyle:{"font-size":"1.25rem"}},[t._v(t._s(t.newstitle))])]},proxy:!0}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("b-button",{staticClass:"mt-2 form-button-valid",attrs:{variant:"success",block:""},on:{click:t.DeleteNews}},[t._v("Valider")]),n("b-button",{staticClass:"mt-2 form-button-reset",attrs:{variant:"outline-danger",block:""},on:{click:t.hideModal}},[t._v("Retour")])],1)],1)},F=[],J={name:"NewsDel",methods:{showModal:function(){this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},toggleModal:function(){this.$refs["modal"].toggle("#toggle-btn")},DeleteNews:function(){}},props:{newstitle:String,DelID:Number},data:function(){return{modal:!1}}},K=J,Q=Object(h["a"])(K,G,F,!1,null,null,null),W=Q.exports,X={name:"NewsMedium",components:{NewsUpdate:H,NewsVisibility:z,NewsDelete:W},props:{news:Object},computed:{},methods:{},mounted:function(){var t=document.getElementById("news-textbox-block"+this.news.id);""==this.news.photos?t.setAttribute("noimg","true"):t.setAttribute("noimg","false")},data:function(){return{newscolor:"#00B2FF"}}},Y=X,Z=(n("f23e"),Object(h["a"])(Y,I,D,!1,null,"fb1b4c0a",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"apps"}},[n("div",{staticClass:"apps-container",attrs:{id:"apps-container"}},[n("h2",{staticClass:"apps-header"},[t._v(" Applications "),t.isAdmin?n("div",{attrs:{id:"apps-update-btn"}},[n("AppsUpdate")],1):t._e()]),t._l(t.apps,(function(e,s){return n("a",{key:s,staticClass:"apps-content-main",attrs:{href:e.link,target:"_blank"}},[n("b-icon",{staticClass:"apps-icon",attrs:{icon:e.icon}}),n("div",{staticClass:"apps-title"},[t._v(t._s(e.title))])],1)}))],2)])},nt=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-icon",{attrs:{icon:"pencil-square"},on:{click:function(e){t.appsmodal=!t.appsmodal}}}),n("b-modal",{staticStyle:{"justify-content":"center"},attrs:{id:"appmodal1",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("Modification des raccourcis d'application :")]},proxy:!0}]),model:{value:t.appsmodal,callback:function(e){t.appsmodal=e},expression:"appsmodal"}},[n("b-table-simple",[n("b-thead",[n("b-tr",[n("b-th",[t._v("Titre")]),n("b-th",[t._v("Lien")]),n("b-th",[t._v("Icon")]),n("b-th",[t._v("groups")]),n("b-th"),n("b-th")],1)],1),n("b-tbody",t._l(t.UpdatedApps,(function(e,s){return n("b-tr",{key:s},[n("b-th",[t._v(t._s(e.title))]),n("b-td",[t._v(t._s(e.link))]),n("b-td",[t._v(t._s(e.icon))]),n("b-td",[t._v(t._s(e.groups))]),n("b-td",[n("button",{staticClass:"apps-update-button",attrs:{type:"button"},on:{click:function(n){return t.Modify(e,s)}}},[n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"info",icon:"pencil-square"}})],1)]),n("b-td",[n("button",{staticClass:"apps-del-button",attrs:{type:"button"},on:{click:function(n){return t.DeleteVerification(e,s)}}},[n("b-icon",{staticClass:"sidebar-item-icon",attrs:{variant:"danger",icon:"trash"}})],1)])],1)})),1)],1),n("div",{staticStyle:{width:"100%",display:"flex"}},[n("button",{staticClass:"apps-add",on:{click:function(e){return t.Create()}}},[t._v("+")])])],1),n("b-modal",{attrs:{id:"appmodal2",size:"xl"},on:{ok:t.Save},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("Modification de l'application :")]},proxy:!0}]),model:{value:t.updateapp,callback:function(e){t.updateapp=e},expression:"updateapp"}},[n("div",{staticClass:"menu-form"},[n("div",[n("label",{attrs:{for:"title"}},[t._v("Titre")]),n("b-form-input",{attrs:{name:"title",type:"text",required:""},model:{value:t.apptoupdate.title,callback:function(e){t.$set(t.apptoupdate,"title",e)},expression:"apptoupdate.title"}})],1),n("div",[n("label",{attrs:{for:"link"}},[t._v("Lien URL")]),n("b-form-input",{attrs:{name:"link",type:"text",required:""},model:{value:t.apptoupdate.link,callback:function(e){t.$set(t.apptoupdate,"link",e)},expression:"apptoupdate.link"}})],1),n("div",[n("label",{attrs:{for:"icon"}},[t._v("icon")]),n("b-form-input",{attrs:{name:"icon",type:"text",required:""},model:{value:t.apptoupdate.icon,callback:function(e){t.$set(t.apptoupdate,"icon",e)},expression:"apptoupdate.icon"}})],1),n("label",{attrs:{for:"groups"}},[t._v("Groupes")]),n("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",name:"groups",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.tags,i=e.inputAttrs,a=e.inputHandlers,o=e.disabled,r=e.removeTag;return[s.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(s,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"info"},on:{remove:function(t){return r(e)}}},[t._v(t._s(e))])],1)})),0):t._e(),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableOptions.length,options:t.availableOptions},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("Choose a tag...")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),a))]}}]),model:{value:t.apptoupdate.groups,callback:function(e){t.$set(t.apptoupdate,"groups",e)},expression:"apptoupdate.groups"}})],1)])],1)},it=[],at=(n("a434"),{name:"AppsUpdate",computed:{UpdatedApps:function(){return this.apps},availableOptions:function(){var t=this;return this.groupsoptions.filter((function(e){return-1===t.apptoupdate.groups.indexOf(e)}))}},mounted:function(){var t=this,e="apps/intranetagglo".concat("/apps");c.a.get(Object(u["generateUrl"])(e)).then((function(e){return t.apps=e.data})),this.$store.state.groupsoptions==[]?c.a.get(Object(u["generateOcsUrl"])("cloud/groups",2)).then((function(e){t.groupsoptions=e.data.ocs.data.groups,t.$store.commit("setGroupsOptions",e.data.ocs.data.groups)})):this.groupsoptions=this.$store.state.groupsoptions},methods:{Save:function(){null==this.apptoupdate.id?(this.apptoupdate.groups=this.apptoupdate.groups.join(";"),this.apps.push(this.apptoupdate),this.createApps(this.apps[this.arrayindex]),console.log(this.apps)):(this.apptoupdate.groups=this.apptoupdate.groups.join(";"),this.apps[this.arrayindex].title=this.apptoupdate.title,this.apps[this.arrayindex].icon=this.apptoupdate.icon,this.apps[this.arrayindex].link=this.apptoupdate.link,this.apps[this.arrayindex].groups=this.apptoupdate.groups,this.updateApps(this.apps[this.arrayindex]))},DeleteVerification:function(t,e){var n=this;this.$bvModal.msgBoxConfirm("Êtes-vous sûr de vouloir supprimer cette application : ".concat(t.title),{title:"Confirmation",id:"appmodal3",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"Supprimer",cancelTitle:"Retour",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(s){s&&(n.apps.splice(e,1),console.log(t.id),n.deleteApps(t.id))}))},Create:function(){this.arrayindex=this.apps.length,this.apptoupdate.id=null,this.apptoupdate.title="",this.apptoupdate.link="",this.apptoupdate.icon="",this.apptoupdate.groups=[],this.updateapp=!this.updateapp},Modify:function(t,e){this.arrayindex=e,this.apptoupdate.id=t.id,this.apptoupdate.title=t.title,this.apptoupdate.link=t.link,this.apptoupdate.icon=t.icon,this.apptoupdate.groups=t.groups.split(";"),this.updateapp=!this.updateapp},createApps:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,s="apps/intranetagglo/apps",n.next=4,c.a.post(Object(u["generateUrl"])(s),t,{type:"application/json"});case 4:i=n.sent,e.LastModifiedID=i.data.id,e.apps.find((function(t){return null===t.id})).id=i.data.id,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),console.error(n.t0);case 12:e.$store.commit("setAppsUpdating",!0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})))()},updateApps:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,s="apps/intranetagglo/apps/".concat(t.id),n.next=4,c.a.post(Object(u["generateUrl"])(s),t,{type:"application/json"});case 4:i=n.sent,e.LastModifiedID=i.data.id,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error(n.t0);case 11:e.$store.commit("setAppsUpdating",!0);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()},deleteApps:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,s="apps/intranetagglo/apps/".concat(t),n.next=4,c.a.delete(Object(u["generateUrl"])(s,{id:t}));case 4:i=n.sent,e.LastModifiedID=i.data.id,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error(n.t0);case 11:e.$store.commit("setAppsUpdating",!0);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()}},data:function(){return{LastModifiedID:null,appsmodal:!1,updateapp:!1,apps:[],groupsoptions:[],arrayindex:null,apptoupdate:{id:null,title:"",link:"",icon:"",groups:[]}}}}),ot=at,rt=(n("767a"),Object(h["a"])(ot,st,it,!1,null,"42a24aea",null)),lt=rt.exports,ct={name:"Apps",components:{AppsUpdate:lt},watch:{updating:function(t){var e=this;if(t){var n="apps/intranetagglo".concat("/apps");c.a.get(Object(u["generateUrl"])(n)).then((function(t){e.apps=t.data,e.$store.commit("setAppsUpdating",!1)}))}}},computed:{updating:function(){return this.$store.state.appsupdating},isAdmin:function(){return this.$store.state.usergroups.includes("admin")},UserGroups:function(){return this.$store.state.usergroups},search:{get:function(){return this.$store.state.search},set:function(t){this.$store.commit("updateSearch",t)}}},methods:{AppsSet:function(t){this.droptext=t,this.$store.commit("updateCategories",t)}},mounted:function(){var t=this;c.a.get(Object(u["generateUrl"])("apps/intranetagglo".concat("/appsG"))).then((function(e){return t.apps=e.data}))},data:function(){return{droptext:"",modal:!1,apptoupdate:{},apps:[]}}},ut=ct,dt=Object(h["a"])(ut,et,nt,!1,null,null,null),pt=dt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-news-button",on:{click:function(e){t.modal=!t.modal}}},[t._v(" Ajouter une actualité "),n("b-modal",{ref:"modal",attrs:{id:"newsmodal1",size:"xl"},on:{ok:t.AddNews},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Ajouter une "),n("code",{staticStyle:{"font-size":"1.25rem"}},[t._v("Actualité")])]},proxy:!0},{key:"modal-footer",fn:function(e){var s=e.ok,i=e.cancel;return[n("b-button",{attrs:{size:"md",variant:"danger"},on:{click:function(t){return i()}}},[t._v("Annuler")]),n("b-button",{attrs:{size:"md",variant:"success"},on:{click:function(t){return s()}}},[t._v("Ajouter")])]}}]),model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[n("b-table-simple",{attrs:{small:"","caption-top":"",stacked:""}},[n("caption",[t._v("sont obligatoires : Titre, Le contenu de l'actualité")]),n("b-tbody",[n("b-tr",[n("b-th",[n("b-form-input",{attrs:{id:"titre-input",required:""},model:{value:t.news.title,callback:function(e){t.$set(t.news,"title",e)},expression:"news.title"}})],1),n("b-th",[n("b-form-input",{attrs:{id:"subtitle-input",required:""},model:{value:t.news.subtite,callback:function(e){t.$set(t.news,"subtite",e)},expression:"news.subtite"}})],1),n("b-th",[n("b-form-select",{attrs:{id:"category-input",options:t.categoryoptions,required:""},model:{value:t.news.category,callback:function(e){t.$set(t.news,"category",e)},expression:"news.category"}})],1)],1),n("b-tr",[n("b-th",[n("b-form-tags",{staticClass:"mb-2",attrs:{id:"tags-component-select",name:"groups",size:"lg","add-on-change":"","no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.tags,i=e.inputAttrs,a=e.inputHandlers,o=e.disabled,r=e.removeTag;return[s.length>0?n("ul",{staticClass:"list-inline d-inline-block mb-2"},t._l(s,(function(e){return n("li",{key:e,staticClass:"list-inline-item"},[n("b-form-tag",{attrs:{title:e,disabled:o,variant:"info"},on:{remove:function(t){return r(e)}}},[t._v(t._s(e))])],1)})),0):t._e(),n("b-form-select",t._g(t._b({attrs:{disabled:o||0===t.availableOptions.length,options:t.availableOptions},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:"",value:""}},[t._v("Choose a tag...")])]},proxy:!0}],null,!0)},"b-form-select",i,!1),a))]}}]),model:{value:t.news.groups,callback:function(e){t.$set(t.news,"groups",e)},expression:"news.groups"}})],1)],1),n("b-tr",[n("b-th",{attrs:{colspan:"4"}},[n("VueTrix",{attrs:{inputId:"editor1",placeholder:"Contenu de l'actualité une fois étendue..."},model:{value:t.news.text,callback:function(e){t.$set(t.news,"text",e)},expression:"news.text"}})],1)],1),n("b-tr",[n("b-th",[n("b-form-file",{attrs:{id:"photo-input",size:"sm",accept:"image/*",placeholder:"Choisir le fichier (.jpg/.jpeg/.png)...","drop-placeholder":"Placer l'image ici ..."},model:{value:t.news.photo,callback:function(e){t.$set(t.news,"photo",e)},expression:"news.photo"}})],1)],1)],1),n("b-tfoot")],1)],1)])],1)},ft=[],gt=n("ff0b"),ht={name:"NewsAdd",components:{VueTrix:gt["a"]},computed:{availableOptions:function(){var t=this;return this.groupsoptions.filter((function(e){return-1===t.news.groups.indexOf(e)}))},shortdesccount:function(){return 190-this.shortdesc.length}},methods:{AddNews:function(){this.news.author=this.$store.state.username,console.log(this.$store.state.username),console.log(this.news.author),this.news.groups=this.news.groups.join(";"),this.createNews(this.news)},createNews:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,s="apps/intranetagglo/news",n.next=4,c.a.post(Object(u["generateUrl"])(s),t,{type:"application/json"});case 4:i=n.sent,e.LastModifiedID=i.data.id,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.error(n.t0);case 11:e.$store.commit("setNewsUpdating",!0);case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()},toggleModal:function(){this.$refs["modal"].toggle("#toggle-btn")},formatdesc:function(t){return t.substring(0,190)},addphotos:function(t){return t.push(null)},addpdf:function(t){return t.push(null)}},mounted:function(){var t=this;console.log(this.$store.state.groupsoptions),this.$store.state.groupsoptions==[]?c.a.get(generateOcsUrl("cloud/groups",2)).then((function(e){t.groupsoptions=e.data.ocs.data.groups,t.$store.commit("setGroupsOptions",e.data.ocs.data.groups)})):(console.log(this.$store.state.groupsoptions),this.groupsoptions=this.$store.state.groupsoptions)},data:function(){return{modal:!1,news:{author:"",title:"",subtitle:"",text:"",photo:"",category:"",groups:[],visible:0},groupsoptions:[],categoryoptions:[]}}},vt=ht,bt=Object(h["a"])(vt,mt,ft,!1,null,null,null),yt=bt.exports,kt={name:"News",props:{msg:String},components:{NewsMedium:tt,Apps:pt,NewsAdd:yt},data:function(){return{actually:"",categorysearch:"",maxvisiblenews:6,addNews:!1,AddNewsModal:!1,news:[],currentPage:1,rows:50}},computed:{isAdmin:function(){return this.$store.state.usergroups.includes("admin")},search:{get:function(){return this.$store.state.search},set:function(t){this.$store.commit("updateSearch",t)}}},methods:{handleScroll:function(){var t=this,e=document.querySelectorAll(".news");setInterval((function(){}),1e3),e.forEach((function(e){var n=e.getBoundingClientRect().top,s=e.getBoundingClientRect().bottom;(n>=0||s<=0)&&(t.isActive=!1,e.classList.remove("active")),n<=300&&s>=0&&(t.isActive=!0,e.classList.add("active"))}))},closeNews:function(){var t=document.getElementById("news-row");t.classList.toggle(this.actually)}},mounted:function(){var t=this,e="apps/intranetagglo/news/0";c.a.post(Object(u["generateUrl"])(e),0,{type:"application/json"}).then((function(e){t.news=e.data;var n=document.getElementsByClassName("news"),s=document.getElementById("news-row");n[0].addEventListener("click",(function(){s.classList.contains("left")||(s.classList.toggle("left"),t.actually="left")})),n[1].addEventListener("click",(function(){s.classList.contains("center")||(s.classList.toggle("center"),t.actually="center")})),n[2].addEventListener("click",(function(){s.classList.contains("right")||(s.classList.toggle("right"),t.actually="right")}))}))},destroyed:function(){var t=document.getElementById("news-container");t.removeEventListener("scroll",this.handleScroll)}},wt=kt,_t=(n("990b"),Object(h["a"])(wt,$,j,!1,null,"ecc5706c",null)),Ct=_t.exports,xt={name:"Home",components:{Navigation:_,Settings:O,News:Ct},data:function(){return{darkmodestring:null,darkmode:null,patterns:"6",backgroundcolor:"1"}},watch:{darkmode:function(t){t?(localStorage.setItem("color_scheme","dark"),this.darkmodestring="dark",this.darkmode="dark"):(localStorage.setItem("color_scheme","light"),this.darkmodestring="")}},beforeMount:function(){var t=this,e="apps/intranetagglo".concat("/user");c.a.get(Object(u["generateUrl"])(e)).then((function(e){return t.$store.commit("setUser",e.data)}))},mounted:function(){document.getElementById("cog").addEventListener("click",(function(){document.getElementById("Settings").classList.toggle("hidden"),document.getElementById("apps-container").classList.toggle("hidden")}))},created:function(){var t=localStorage.getItem("color_scheme"),e=localStorage.getItem("patterns"),n=localStorage.getItem("variant");t&&("dark"===t?(this.darkmodestring="dark",this.darkmode=!0):this.darkmodestring=""),e&&(this.patterns=e),n&&(this.backgroundcolor=n)}},At=xt,St=Object(h["a"])(At,i,a,!1,null,null,null),Mt=St.exports,Ot=n("2f62");s["default"].use(Ot["a"]);var $t=new Ot["a"].Store({state:{search:"",username:"",usergroups:[],groupsoptions:[],categoryfilter:"",appsupdating:!1,menuupdating:!1,newsupdating:!1},getters:{News_length:function(t){return t.News.length}},mutations:{updateSearch:function(t,e){t.search=e},updateCategories:function(t,e){t.categoryfilter=e},setUser:function(t,e){t.username=e[0],t.usergroups=e[1]},setGroupsOptions:function(t,e){t.groupsoptions=e},setAppsUpdating:function(t,e){t.appsupdating=e},setMenuUpdating:function(t,e){t.menuupdating=e},setNewsUpdating:function(t,e){t.newsupdating=e}},modules:{}}),jt=(n("ab8b"),n("2dd8"),n("5f5b")),It=n("b1e0");n("eab5"),n("5341"),n("868e"),n("3e16");s["default"].use(jt["a"]),s["default"].use(It["a"]),s["default"].config.productionTip=!1,new s["default"]({store:$t,render:function(t){return t(Mt)}}).$mount("#app")},"767a":function(t,e,n){"use strict";n("c6b7")},"77a8":function(t,e,n){"use strict";n("285e")},"868e":function(t,e,n){},"990b":function(t,e,n){"use strict";n("1915")},bf8d:function(t,e,n){},c6b7:function(t,e,n){},eab5:function(t,e,n){},f23e:function(t,e,n){"use strict";n("bf8d")},fe49:function(t,e,n){"use strict";n("1ee9")}});
//# sourceMappingURL=app.97f80cbf.js.map